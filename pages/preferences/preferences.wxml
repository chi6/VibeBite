<view class="container">
  <!-- Notebook é£æ ¼çš„ AI åŠ©æ‰‹åŒºåŸŸ -->
  <view class="notebook-section ai-section">
    <view class="paper-header">
      <image class="ai-avatar" src="/images/dog.gif" mode="aspectFit"></image>
      <view class="ai-info">
        <text class="ai-name">{{aiStatus.name}}</text>
        <view class="mood-tags">
          <text class="mood-tag">{{aiStatus.mood}}</text>
          <text class="mood-tag">{{aiStatus.activity}}</text>
        </view>
      </view>
    </view>
    <view class="thought-bubble">
      <text>{{aiStatus.thought}}</text>
    </view>
  </view>

  <!-- Notebook é£æ ¼çš„ä¸»è¦å†…å®¹åŒºåŸŸ -->
  <view class="notebook-section main-section">
    <view class="paper-title">
      <text class="title-text">{{aiStatus.name}}ï¼šä»Šå¤©æƒ³åƒä»€ä¹ˆï¼Ÿ</text>
      <text class="date-text">{{currentDate}}</text>
    </view>

    <!-- è¾“å…¥åŒºåŸŸ -->
    <view class="paper-content">
      <textarea 
        class="note-input"
        placeholder="åœ¨è¿™é‡Œå†™ä¸‹ä½ çš„ç¾é£Ÿæƒ³æ³•..."
        value="{{userInput}}"
        bindinput="handleInputChange"
        maxlength="200"
      />
    </view>

    <!-- æ ‡ç­¾åŒºåŸŸ -->
    <view class="paper-title">
    </view>
      <view class="tags-container">
      <view class="tag {{showHistory ? 'active' : ''}}" 
            bindtap="toggleHistory">
        <text class="tag-icon">ğŸ“</text>
        <text>å†å²è®°å½•</text>
      </view>
      <view class="tag {{showSuggestions ? 'active' : ''}}" 
            bindtap="toggleSuggestions">
        <text class="tag-icon">âœ¨</text>
        <text>æ¨èçµæ„Ÿ</text>
      </view>
    </view>

    <!-- è®°å½•å±•ç¤ºåŒºåŸŸ -->
    <view class="records-container {{(showHistory || showSuggestions) ? 'show' : ''}}">
      <!-- å†å²è®°å½•åˆ—è¡¨ -->
      <view class="records-list {{showHistory ? 'show' : 'hide'}}">
        <view class="record-item {{item.isActive ? 'active' : ''}}"
              wx:for="{{historyList}}"
              wx:key="timestamp"
              bindtap="handleHistoryTap"
              data-text="{{item.text}}"
              data-index="{{index}}">
          <text class="record-text">{{item.text}}</text>
          <text class="delete-btn" 
                catchtap="handleDeleteHistory" 
                data-index="{{index}}">âœ•</text>
        </view>
      </view>

      <!-- æ¨èåˆ—è¡¨ -->
      <view class="records-list {{showSuggestions ? 'show' : 'hide'}}">
        <view class="record-item {{item.isActive ? 'active' : ''}}"
              wx:for="{{suggestions}}"
              wx:key="text"
              bindtap="handleSuggestionTap"
              data-text="{{item.text}}"
              data-index="{{index}}">
          <text class="suggestion-icon">{{item.icon}}</text>
          <text class="record-text">{{item.text}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æäº¤æŒ‰é’® -->
  <view class="action-button">
    <button class="submit-btn" bindtap="handleSubmit">
      <text class="btn-icon">ğŸª„</text>
      <text>å¼€å§‹æ™ºèƒ½è§„åˆ’</text>
    </button>
  </view>
</view> 